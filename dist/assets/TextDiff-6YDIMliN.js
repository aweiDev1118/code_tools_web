import{d as S,p as b,l as h,c as f,a as c,b as t,w as l,e as a,r as m,t as _,i as L,F as N,h as D,q as F,o as x}from"./index-Cwno8YOS.js";const H={class:"max-w-7xl mx-auto"},T={class:"mb-4 flex flex-wrap gap-2"},U={class:"ml-auto flex gap-2"},z={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4"},E={key:0,class:"font-mono text-sm space-y-1 max-h-96 overflow-auto"},M={class:"inline-block w-6 text-gray-400"},A=S({__name:"TextDiff",setup(W){const r=b(""),u=b(""),g=h(()=>{if(!r.value&&!u.value)return[];const i=r.value.split(`
`),e=u.value.split(`
`),d=[],n=Math.max(i.length,e.length);for(let p=0;p<n;p++){const s=i[p]??"",v=e[p]??"";s===v?s&&d.push({type:"equal",value:s}):(s&&d.push({type:"remove",value:s}),v&&d.push({type:"add",value:v}))}return d}),y=h(()=>{const i=g.value.filter(n=>n.type==="add").length,e=g.value.filter(n=>n.type==="remove").length,d=g.value.filter(n=>n.type==="equal").length;return{added:i,removed:e,unchanged:d}}),w=()=>{r.value="",u.value=""},V=()=>{const i=r.value;r.value=u.value,u.value=i},C=()=>{r.value=`function hello() {
  console.log("Hello");
  return true;
}`,u.value=`function hello() {
  console.log("Hello, World!");
  return false;
}`};return(i,e)=>{const d=m("Switch"),n=m("el-icon"),p=m("el-button"),s=m("el-tag"),v=m("el-input"),k=m("el-card"),q=m("el-empty");return x(),f("div",H,[e[8]||(e[8]=c("div",{class:"mb-6"},[c("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"文本对比"),c("p",{class:"text-gray-500"},"对比两段文本的差异")],-1)),c("div",T,[t(p,{onClick:V},{default:l(()=>[t(n,null,{default:l(()=>[t(d)]),_:1}),e[2]||(e[2]=a(" 交换 ",-1))]),_:1}),t(p,{onClick:w},{default:l(()=>[...e[3]||(e[3]=[a("清空",-1)])]),_:1}),t(p,{onClick:C,text:""},{default:l(()=>[...e[4]||(e[4]=[a("加载示例",-1)])]),_:1}),c("div",U,[t(s,{type:"danger"},{default:l(()=>[a("- "+_(y.value.removed)+" 删除",1)]),_:1}),t(s,{type:"success"},{default:l(()=>[a("+ "+_(y.value.added)+" 新增",1)]),_:1}),t(s,{type:"info"},{default:l(()=>[a(_(y.value.unchanged)+" 相同",1)]),_:1})])]),c("div",z,[t(k,null,{header:l(()=>[...e[5]||(e[5]=[a("原文本",-1)])]),default:l(()=>[t(v,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),type:"textarea",rows:12,placeholder:"请输入原文本...",class:"font-mono"},null,8,["modelValue"])]),_:1}),t(k,null,{header:l(()=>[...e[6]||(e[6]=[a("新文本",-1)])]),default:l(()=>[t(v,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"textarea",rows:12,placeholder:"请输入新文本...",class:"font-mono"},null,8,["modelValue"])]),_:1})]),t(k,null,{header:l(()=>[...e[7]||(e[7]=[a("对比结果",-1)])]),default:l(()=>[g.value.length?(x(),f("div",E,[(x(!0),f(N,null,D(g.value,(o,B)=>(x(),f("div",{key:B,class:F(["px-2 py-1 rounded",{"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200":o.type==="remove","bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":o.type==="add","bg-gray-50 dark:bg-gray-800":o.type==="equal"}])},[c("span",M,_(o.type==="remove"?"-":o.type==="add"?"+":" "),1),a(" "+_(o.value),1)],2))),128))])):(x(),L(q,{key:1,description:"输入文本后显示对比结果"}))]),_:1})])}}});export{A as default};
