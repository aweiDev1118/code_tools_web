import"./index-B5EKCtqV.js";/* empty css                  *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                  */import{c as L}from"./clipboard-CkvBPyhk.js";import{_ as w,$ as h,Z as j,a0 as B,a1 as W,a5 as g}from"./element-plus-CXT1njFj.js";import{v as A,r as E,B as b,D as c,O as a,F as u,M as I,a8 as D,K as d,z as x}from"./vue-vendor-BNOOKFHJ.js";const M={class:"max-w-6xl mx-auto"},H={class:"mb-4 flex flex-wrap gap-2 items-center"},U={class:"flex items-center gap-2"},F={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},te=A({__name:"CodeFormatter",setup(q){const l=E(""),s=E(""),f=E("json"),v=E(2),S=[{value:"json",label:"JSON"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"javascript",label:"JavaScript"},{value:"sql",label:"SQL"}],O=n=>{const e=JSON.parse(n);return JSON.stringify(e,null,v.value)},N=n=>{let e="",t=0;const m=n.replace(/>\s*</g,`>
<`).split(`
`);for(const i of m){const o=i.trim();o&&(o.startsWith("</")&&(t=Math.max(0,t-1)),e+=" ".repeat(t*v.value)+o+`
`,o.startsWith("<")&&!o.startsWith("</")&&!o.startsWith("<!")&&!o.endsWith("/>")&&!o.includes("</")&&t++)}return e.trim()},k=n=>n.replace(/\s*{\s*/g,` {
`).replace(/\s*}\s*/g,`
}
`).replace(/;\s*/g,`;
`).replace(/,\s*/g,`,
`).split(`
`).map(e=>{const t=e.trim();return t.endsWith("{")||t==="}"?t:t&&!t.endsWith("}")?" ".repeat(v.value)+t:t}).filter(e=>e.trim()).join(`
`),C=n=>{let e=n.replace(/\s*{\s*/g,` {
`).replace(/\s*}\s*/g,`
}
`).replace(/;\s*/g,`;
`),t=0;const m=e.split(`
`),i=[];for(const o of m){const p=o.trim();p&&(p.startsWith("}")&&(t=Math.max(0,t-1)),i.push(" ".repeat(t*v.value)+p),p.endsWith("{")&&t++)}return i.join(`
`)},T=n=>{const e=["SELECT","FROM","WHERE","AND","OR","ORDER BY","GROUP BY","HAVING","JOIN","LEFT JOIN","RIGHT JOIN","INNER JOIN","ON","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE"];let t=n.toUpperCase();return e.forEach(m=>{t=t.replace(new RegExp(`\\b${m}\\b`,"gi"),`
${m}`)}),t.trim().replace(/^\n/,"")},R=()=>{if(!l.value.trim()){g.warning("请输入代码");return}try{switch(f.value){case"json":s.value=O(l.value);break;case"html":s.value=N(l.value);break;case"css":s.value=k(l.value);break;case"javascript":s.value=C(l.value);break;case"sql":s.value=T(l.value);break;default:s.value=l.value}g.success("格式化成功")}catch(n){g.error("格式化失败: "+n.message)}},y=()=>{if(l.value.trim())try{f.value==="json"?s.value=JSON.stringify(JSON.parse(l.value)):s.value=l.value.replace(/\s+/g," ").replace(/\s*([{}:;,])\s*/g,"$1").trim(),g.success("压缩成功")}catch{g.error("压缩失败")}},V=()=>{s.value&&L(s.value)},_=()=>{l.value="",s.value=""},J=()=>{switch(f.value){case"json":l.value='{"name":"test","version":"1.0.0","dependencies":{"vue":"^3.0.0"}}';break;case"html":l.value='<div class="container"><h1>Title</h1><p>Content</p></div>';break;case"css":l.value=".container{display:flex;align-items:center;}.title{font-size:24px;color:#333;}";break;case"javascript":l.value='function hello(){const msg="Hello";console.log(msg);return msg;}';break;case"sql":l.value="SELECT id, name, email FROM users WHERE status = 1 AND age > 18 ORDER BY created_at DESC";break}};return(n,e)=>{const t=w,m=h,i=j,o=B,p=W;return x(),b("div",M,[e[12]||(e[12]=c("div",{class:"mb-6"},[c("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"代码格式化"),c("p",{class:"text-gray-500"},"格式化 JSON、HTML、CSS、JavaScript、SQL 代码")],-1)),c("div",H,[a(m,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=r=>f.value=r),style:{width:"140px"}},{default:u(()=>[(x(),b(I,null,D(S,r=>a(t,{key:r.value,value:r.value,label:r.label},null,8,["value","label"])),64))]),_:1},8,["modelValue"]),c("div",U,[e[4]||(e[4]=c("span",{class:"text-sm"},"缩进:",-1)),a(m,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=r=>v.value=r),style:{width:"100px"}},{default:u(()=>[a(t,{value:2,label:"2 空格"}),a(t,{value:4,label:"4 空格"})]),_:1},8,["modelValue"])]),a(i,{type:"primary",onClick:R},{default:u(()=>[...e[5]||(e[5]=[d("格式化",-1)])]),_:1}),a(i,{onClick:y},{default:u(()=>[...e[6]||(e[6]=[d("压缩",-1)])]),_:1}),a(i,{onClick:V},{default:u(()=>[...e[7]||(e[7]=[d("复制结果",-1)])]),_:1}),a(i,{onClick:_},{default:u(()=>[...e[8]||(e[8]=[d("清空",-1)])]),_:1}),a(i,{onClick:J,text:""},{default:u(()=>[...e[9]||(e[9]=[d("示例",-1)])]),_:1})]),c("div",F,[a(p,null,{header:u(()=>[...e[10]||(e[10]=[d("输入代码",-1)])]),default:u(()=>[a(o,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=r=>l.value=r),type:"textarea",rows:18,placeholder:"请输入要格式化的代码...",class:"font-mono"},null,8,["modelValue"])]),_:1}),a(p,null,{header:u(()=>[...e[11]||(e[11]=[d("格式化结果",-1)])]),default:u(()=>[a(o,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=r=>s.value=r),type:"textarea",rows:18,readonly:"",placeholder:"格式化结果...",class:"font-mono"},null,8,["modelValue"])]),_:1})])])}}});export{te as default};
