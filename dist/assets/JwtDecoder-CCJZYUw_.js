import"./index-B5EKCtqV.js";/* empty css                 *//* empty css                 *//* empty css                  *//* empty css                 */import{ag as E,Z as M,a0 as O,a1 as S,a7 as W,a6 as D}from"./element-plus-CXT1njFj.js";import{c as V}from"./clipboard-CkvBPyhk.js";import{v as j,r as B,c as z,B as g,D as t,O as o,y as b,F as a,K as u,M as w,I as x,L as y,H as F,z as d}from"./vue-vendor-BNOOKFHJ.js";const Y={class:"max-w-5xl mx-auto"},H={class:"mb-4 flex gap-2"},K={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},G={class:"flex justify-between items-center"},R={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded text-sm overflow-auto"},A={class:"flex justify-between items-center"},L={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded text-sm overflow-auto max-h-64"},P={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Q={key:0,class:"p-3 bg-gray-50 dark:bg-gray-700 rounded"},U={class:"font-mono"},Z={key:1,class:"p-3 bg-gray-50 dark:bg-gray-700 rounded"},$={key:2,class:"p-3 bg-gray-50 dark:bg-gray-700 rounded"},X={class:"font-mono"},h={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded font-mono text-sm break-all"},de=j({__name:"JwtDecoder",setup(q){const m=B(""),s=z(()=>{if(!m.value.trim())return null;try{const l=m.value.split(".");if(l.length!==3)return{error:"Invalid JWT format. JWT should have 3 parts separated by dots."};const e=f=>{const n=f.replace(/-/g,"+").replace(/_/g,"/"),v=n+"=".repeat((4-n.length%4)%4);return JSON.parse(atob(v))},p=e(l[0]),i=e(l[1]),r=f=>f?E(f*1e3).format("YYYY-MM-DD HH:mm:ss"):null,c=i.exp?i.exp*1e3<Date.now():!1;return{header:p,payload:i,signature:l[2],formattedTimes:{iat:r(i.iat),exp:r(i.exp),nbf:r(i.nbf)},isExpired:c}}catch(l){return{error:"Failed to decode JWT: "+l.message}}}),k=l=>{V(l)},C=()=>{m.value=""},N=()=>{m.value="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE1MTYyNDI2MjJ9.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"};return(l,e)=>{const p=M,i=O,r=S,c=W,f=D;return d(),g("div",Y,[e[16]||(e[16]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"JWT 解析"),t("p",{class:"text-gray-500"},"解析并查看 JWT Token 内容")],-1)),t("div",H,[o(p,{onClick:C},{default:a(()=>[...e[3]||(e[3]=[u("清空",-1)])]),_:1}),o(p,{onClick:N,text:""},{default:a(()=>[...e[4]||(e[4]=[u("加载示例",-1)])]),_:1})]),o(r,{class:"mb-4"},{header:a(()=>[...e[5]||(e[5]=[u("输入 JWT",-1)])]),default:a(()=>[o(i,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=n=>m.value=n),type:"textarea",rows:4,placeholder:"请输入 JWT Token...",class:"font-mono"},null,8,["modelValue"])]),_:1}),s.value?(d(),g(w,{key:0},[s.value.error?(d(),b(c,{key:0,type:"error",title:s.value.error,closable:!1,class:"mb-4"},null,8,["title"])):(d(),g(w,{key:1},[s.value.isExpired?(d(),b(c,{key:0,type:"warning",title:"此 Token 已过期",closable:!1,class:"mb-4"})):x("",!0),t("div",K,[o(r,null,{header:a(()=>[t("div",G,[e[7]||(e[7]=t("span",{class:"text-red-500"},"Header",-1)),o(p,{size:"small",onClick:e[1]||(e[1]=n=>k(JSON.stringify(s.value.header,null,2)))},{default:a(()=>[...e[6]||(e[6]=[u("复制",-1)])]),_:1})])]),default:a(()=>[t("pre",R,y(JSON.stringify(s.value.header,null,2)),1)]),_:1}),o(r,null,{header:a(()=>[t("div",A,[e[9]||(e[9]=t("span",{class:"text-purple-500"},"Payload",-1)),o(p,{size:"small",onClick:e[2]||(e[2]=n=>k(JSON.stringify(s.value.payload,null,2)))},{default:a(()=>[...e[8]||(e[8]=[u("复制",-1)])]),_:1})])]),default:a(()=>[t("pre",L,y(JSON.stringify(s.value.payload,null,2)),1)]),_:1})]),o(r,{class:"mt-4"},{header:a(()=>[...e[10]||(e[10]=[u("时间信息",-1)])]),default:a(()=>{var n,v,_,T,J,I;return[t("div",P,[(n=s.value.formattedTimes)!=null&&n.iat?(d(),g("div",Q,[e[11]||(e[11]=t("div",{class:"text-sm text-gray-500"},"签发时间 (iat)",-1)),t("div",U,y((v=s.value.formattedTimes)==null?void 0:v.iat),1)])):x("",!0),(_=s.value.formattedTimes)!=null&&_.exp?(d(),g("div",Z,[e[12]||(e[12]=t("div",{class:"text-sm text-gray-500"},"过期时间 (exp)",-1)),t("div",{class:F(["font-mono",s.value.isExpired?"text-red-500":""])},y((T=s.value.formattedTimes)==null?void 0:T.exp),3)])):x("",!0),(J=s.value.formattedTimes)!=null&&J.nbf?(d(),g("div",$,[e[13]||(e[13]=t("div",{class:"text-sm text-gray-500"},"生效时间 (nbf)",-1)),t("div",X,y((I=s.value.formattedTimes)==null?void 0:I.nbf),1)])):x("",!0)])]}),_:1}),o(r,{class:"mt-4"},{header:a(()=>[...e[14]||(e[14]=[t("span",{class:"text-blue-500"},"Signature",-1)])]),default:a(()=>[t("div",h,y(s.value.signature),1),o(c,{type:"info",closable:!1,class:"mt-4"},{default:a(()=>[...e[15]||(e[15]=[u(" 注意：此工具仅解析 JWT，不验证签名。请勿将敏感 Token 粘贴到不信任的网站。 ",-1)])]),_:1})]),_:1})],64))],64)):(d(),b(f,{key:1,description:"输入 JWT 后显示解析结果"}))])}}});export{de as default};
