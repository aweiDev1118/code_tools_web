import"./index-B5EKCtqV.js";/* empty css                 *//* empty css                  *//* empty css                    *//* empty css                        */import{c as N}from"./clipboard-CkvBPyhk.js";import{a3 as R,a2 as D,Z as S,ac as T,E as j,a1 as K,a0 as L}from"./element-plus-CXT1njFj.js";import{v as O,r as m,B as p,D as o,O as l,F as a,K as n,I as w,ad as P,L as x,y as A,z as u}from"./vue-vendor-BNOOKFHJ.js";const G={class:"max-w-5xl mx-auto"},W={class:"mb-4 flex flex-wrap gap-2 items-center"},Z={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},$={key:0,class:"mt-4 text-sm text-gray-500"},q={key:0,class:"mt-2 text-sm text-gray-500"},H={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},J={class:"flex justify-between items-center"},Q={class:"min-h-[200px] flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded"},X=["src"],Y={key:1,class:"text-gray-400"},de=O({__name:"ImageBase64",setup(ee){const f=m("toBase64"),r=m(""),c=m(""),s=m(""),g=m(""),y=m(0),B=m(""),b=t=>{if(!t)return;g.value=t.name,y.value=t.size,B.value=t.type;const e=new FileReader;return e.onload=v=>{var d;r.value=(d=v.target)==null?void 0:d.result},e.readAsDataURL(t),!1},C=()=>{if(!c.value){s.value="";return}let t=c.value.trim();t.startsWith("data:")||(t=`data:image/png;base64,${t}`),s.value=t},E=()=>{const t=f.value==="toBase64"?r.value:c.value;t&&N(t)},I=()=>{if(!s.value)return;const t=document.createElement("a");t.download="image.png",t.href=s.value,t.click()},h=()=>{r.value="",c.value="",s.value="",g.value="",y.value=0,B.value=""},z=t=>{if(t===0)return"0 B";const e=1024,v=["B","KB","MB"],d=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,d)).toFixed(2))+" "+v[d]};return(t,e)=>{const v=R,d=D,k=S,U=P("Upload"),F=j,M=T,_=K,V=L;return u(),p("div",G,[e[13]||(e[13]=o("div",{class:"mb-6"},[o("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"图片 Base64 转换"),o("p",{class:"text-gray-500"},"图片与 Base64 编码互相转换")],-1)),o("div",W,[l(d,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=i=>f.value=i)},{default:a(()=>[l(v,{value:"toBase64"},{default:a(()=>[...e[3]||(e[3]=[n("图片 → Base64",-1)])]),_:1}),l(v,{value:"toImage"},{default:a(()=>[...e[4]||(e[4]=[n("Base64 → 图片",-1)])]),_:1})]),_:1},8,["modelValue"]),l(k,{onClick:E},{default:a(()=>[...e[5]||(e[5]=[n("复制",-1)])]),_:1}),l(k,{onClick:h},{default:a(()=>[...e[6]||(e[6]=[n("清空",-1)])]),_:1})]),f.value==="toBase64"?(u(),p("div",Z,[l(_,null,{header:a(()=>[...e[7]||(e[7]=[n("选择图片",-1)])]),default:a(()=>[l(M,{drag:"","auto-upload":!1,"show-file-list":!1,accept:"image/*","on-change":i=>b(i.raw)},{default:a(()=>[l(F,{size:"48",class:"text-gray-400"},{default:a(()=>[l(U)]),_:1}),e[8]||(e[8]=o("div",{class:"text-gray-500 mt-2"},"拖拽图片到此处或点击选择",-1))]),_:1},8,["on-change"]),g.value?(u(),p("div",$,[o("p",null,"文件名: "+x(g.value),1),o("p",null,"大小: "+x(z(y.value)),1),o("p",null,"类型: "+x(B.value),1)])):w("",!0)]),_:1}),l(_,null,{header:a(()=>[...e[9]||(e[9]=[n("Base64 编码",-1)])]),default:a(()=>[l(V,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=i=>r.value=i),type:"textarea",rows:12,readonly:"",placeholder:"Base64 编码将显示在这里...",class:"font-mono text-xs"},null,8,["modelValue"]),r.value?(u(),p("div",q," 长度: "+x(r.value.length)+" 字符 ",1)):w("",!0)]),_:1})])):(u(),p("div",H,[l(_,null,{header:a(()=>[...e[10]||(e[10]=[n("Base64 编码",-1)])]),default:a(()=>[l(V,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=i=>c.value=i),type:"textarea",rows:12,placeholder:"请输入 Base64 编码...",class:"font-mono text-xs",onInput:C},null,8,["modelValue"])]),_:1}),l(_,null,{header:a(()=>[o("div",J,[e[12]||(e[12]=o("span",null,"图片预览",-1)),s.value?(u(),A(k,{key:0,size:"small",onClick:I},{default:a(()=>[...e[11]||(e[11]=[n("下载",-1)])]),_:1})):w("",!0)])]),default:a(()=>[o("div",Q,[s.value?(u(),p("img",{key:0,src:s.value,alt:"Preview",class:"max-w-full max-h-[300px]"},null,8,X)):(u(),p("span",Y,"图片预览"))])]),_:1})]))])}}});export{de as default};
