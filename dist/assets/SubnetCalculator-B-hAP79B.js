import{c as j}from"./clipboard-P4sF3HYx.js";import{d as E,p as H,l as V,c as k,a as t,b as o,n as M,w as a,r as d,y as F,F as T,h as U,e as g,t as l,o as x,_ as z}from"./index-DEuvDXVw.js";const O={class:"max-w-4xl mx-auto"},R={class:"input-row"},q={key:0,class:"mt-2 text-red-500 text-sm"},G={class:"mt-3 flex flex-wrap gap-2"},J={class:"mt-3"},K={class:"main-info"},Q={class:"main-ip"},W={class:"main-desc"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"card-header"},Z={class:"info-grid"},ss={class:"info-item"},ts={class:"info-value"},es={class:"info-item"},os={class:"info-value"},ns={class:"info-item"},as={class:"info-value"},ls={class:"info-item"},is={class:"info-value"},rs={class:"card-header"},ds={class:"info-grid"},us={class:"info-item"},cs={class:"info-value"},ps={class:"info-item"},_s={class:"info-value"},vs={class:"info-item"},ms={class:"info-value"},fs={class:"info-item"},bs={class:"info-value highlight"},ys={class:"card-header"},gs={class:"binary-grid"},ks={class:"binary-item"},xs={class:"binary-value"},Cs={class:"binary-item"},Is={class:"binary-value"},hs=E({__name:"SubnetCalculator",setup(ws){const i=H("192.168.1.100"),p=H(24),I=n=>{const s=n.split(".");return s.length!==4?!1:s.every(u=>{const r=parseInt(u);return!isNaN(r)&&r>=0&&r<=255})},A=n=>{const s=n.split(".").map(Number);return(s[0]<<24)+(s[1]<<16)+(s[2]<<8)+s[3]},_=n=>[n>>>24&255,n>>>16&255,n>>>8&255,n&255].join("."),h=n=>n.split(".").map(s=>parseInt(s).toString(2).padStart(8,"0")).join("."),$=n=>{const s=parseInt(n.split(".")[0]);return s>=1&&s<=126?"A":s>=128&&s<=191?"B":s>=192&&s<=223?"C":s>=224&&s<=239?"D (多播)":s>=240&&s<=255?"E (保留)":"特殊"},N=n=>{const s=n.split(".").map(Number);return s[0]===10?"私有地址 (A类)":s[0]===172&&s[1]>=16&&s[1]<=31?"私有地址 (B类)":s[0]===192&&s[1]===168?"私有地址 (C类)":s[0]===127?"回环地址":s[0]===169&&s[1]===254?"链路本地地址":"公网地址"},e=V(()=>{if(!i.value||!I(i.value))return null;const n=A(i.value),s=p.value,u=s===0?0:4294967295<<32-s>>>0,r=~u>>>0,m=(n&u)>>>0,f=(m|r)>>>0,b=s>=31?m:m+1,C=s>=31?f:f-1,y=Math.pow(2,32-s),v=s>=31?y:y-2;return{networkAddress:_(m),broadcastAddress:_(f),subnetMask:_(u),wildcardMask:_(r),firstHost:_(b),lastHost:_(C),totalHosts:y,usableHosts:Math.max(0,v),ipClass:$(i.value),ipType:N(i.value),binaryIp:h(i.value),binaryMask:h(_(u))}}),w=V(()=>I(i.value)),P=()=>{if(!e.value)return;const n=`IP 地址: ${i.value}/${p.value}
子网掩码: ${e.value.subnetMask}
网络地址: ${e.value.networkAddress}
广播地址: ${e.value.broadcastAddress}
可用主机范围: ${e.value.firstHost} - ${e.value.lastHost}
可用主机数: ${e.value.usableHosts}
IP 类型: ${e.value.ipType}`;j(n)},B=[8,16,24,25,26,27,28,29,30,31,32];return(n,s)=>{const u=d("Position"),r=d("el-icon"),m=d("el-input"),f=d("el-input-number"),b=d("el-tag"),C=d("CopyDocument"),y=d("el-button"),v=d("el-card"),S=d("Connection"),D=d("Monitor"),L=d("Tickets");return x(),k("div",O,[s[19]||(s[19]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"子网掩码计算器"),t("p",{class:"text-gray-500"},"计算 IP 地址的子网信息、可用主机范围等")],-1)),o(v,{class:"mb-4"},{header:a(()=>[...s[2]||(s[2]=[g("输入 IP 地址",-1)])]),default:a(()=>[t("div",R,[o(m,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=c=>i.value=c),placeholder:"192.168.1.100",class:F(["ip-input",{"is-error":i.value&&!w.value}])},{prefix:a(()=>[o(r,null,{default:a(()=>[o(u)]),_:1})]),_:1},8,["modelValue","class"]),s[3]||(s[3]=t("span",{class:"cidr-slash"},"/",-1)),o(f,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=c=>p.value=c),min:0,max:32,step:1,class:"cidr-input"},null,8,["modelValue"])]),i.value&&!w.value?(x(),k("div",q," IP 地址格式不正确 ")):M("",!0),t("div",G,[s[4]||(s[4]=t("span",{class:"text-sm text-gray-500 mr-2"},"常用 CIDR:",-1)),(x(),k(T,null,U(B,c=>o(b,{key:c,type:c===p.value?"primary":"info",class:"cidr-tag",onClick:Hs=>p.value=c},{default:a(()=>[g(" /"+l(c),1)]),_:2},1032,["type","onClick"])),64))]),t("div",J,[o(y,{type:"primary",onClick:P,disabled:!e.value},{default:a(()=>[o(r,{class:"mr-1"},{default:a(()=>[o(C)]),_:1}),s[5]||(s[5]=g(" 复制全部信息 ",-1))]),_:1},8,["disabled"])])]),_:1}),e.value?(x(),k(T,{key:0},[o(v,{class:"main-card mb-4"},{default:a(()=>[t("div",K,[t("div",Q,l(i.value)+"/"+l(p.value),1),t("div",W,[o(b,null,{default:a(()=>[g(l(e.value.ipClass)+" 类",1)]),_:1}),o(b,{type:"info"},{default:a(()=>[g(l(e.value.ipType),1)]),_:1})])])]),_:1}),t("div",X,[o(v,null,{header:a(()=>[t("div",Y,[o(r,null,{default:a(()=>[o(S)]),_:1}),s[6]||(s[6]=t("span",null,"地址信息",-1))])]),default:a(()=>[t("div",Z,[t("div",ss,[s[7]||(s[7]=t("span",{class:"info-label"},"网络地址",-1)),t("span",ts,l(e.value.networkAddress),1)]),t("div",es,[s[8]||(s[8]=t("span",{class:"info-label"},"广播地址",-1)),t("span",os,l(e.value.broadcastAddress),1)]),t("div",ns,[s[9]||(s[9]=t("span",{class:"info-label"},"子网掩码",-1)),t("span",as,l(e.value.subnetMask),1)]),t("div",ls,[s[10]||(s[10]=t("span",{class:"info-label"},"通配符掩码",-1)),t("span",is,l(e.value.wildcardMask),1)])])]),_:1}),o(v,null,{header:a(()=>[t("div",rs,[o(r,null,{default:a(()=>[o(D)]),_:1}),s[11]||(s[11]=t("span",null,"主机信息",-1))])]),default:a(()=>[t("div",ds,[t("div",us,[s[12]||(s[12]=t("span",{class:"info-label"},"第一个可用主机",-1)),t("span",cs,l(e.value.firstHost),1)]),t("div",ps,[s[13]||(s[13]=t("span",{class:"info-label"},"最后一个可用主机",-1)),t("span",_s,l(e.value.lastHost),1)]),t("div",vs,[s[14]||(s[14]=t("span",{class:"info-label"},"总地址数",-1)),t("span",ms,l(e.value.totalHosts.toLocaleString()),1)]),t("div",fs,[s[15]||(s[15]=t("span",{class:"info-label"},"可用主机数",-1)),t("span",bs,l(e.value.usableHosts.toLocaleString()),1)])])]),_:1}),o(v,{class:"md:col-span-2"},{header:a(()=>[t("div",ys,[o(r,null,{default:a(()=>[o(L)]),_:1}),s[16]||(s[16]=t("span",null,"二进制表示",-1))])]),default:a(()=>[t("div",gs,[t("div",ks,[s[17]||(s[17]=t("span",{class:"binary-label"},"IP 地址",-1)),t("code",xs,l(e.value.binaryIp),1)]),t("div",Cs,[s[18]||(s[18]=t("span",{class:"binary-label"},"子网掩码",-1)),t("code",Is,l(e.value.binaryMask),1)])])]),_:1})])],64)):M("",!0)])}}}),Ts=z(hs,[["__scopeId","data-v-6001c8f0"]]);export{Ts as default};
