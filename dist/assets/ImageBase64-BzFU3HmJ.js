import{c as T}from"./clipboard-BiDvq1UE.js";import{d as j,p,c,a as o,b as l,w as a,r as n,e as u,n as b,t as y,i as D,o as r}from"./index-BFeQnY5_.js";const E={class:"max-w-5xl mx-auto"},P={class:"mb-4 flex flex-wrap gap-2 items-center"},R={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},A={key:0,class:"mt-4 text-sm text-gray-500"},K={key:0,class:"mt-2 text-sm text-gray-500"},L={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},O={class:"flex justify-between items-center"},W={class:"min-h-[200px] flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded"},$=["src"],q={key:1,class:"text-gray-400"},Q=j({__name:"ImageBase64",setup(G){const f=p("toBase64"),d=p(""),v=p(""),s=p(""),_=p(""),B=p(0),k=p(""),C=t=>{if(!t)return;_.value=t.name,B.value=t.size,k.value=t.type;const e=new FileReader;return e.onload=g=>{var i;d.value=(i=g.target)==null?void 0:i.result},e.readAsDataURL(t),!1},h=()=>{if(!v.value){s.value="";return}let t=v.value.trim();t.startsWith("data:")||(t=`data:image/png;base64,${t}`),s.value=t},z=()=>{const t=f.value==="toBase64"?d.value:v.value;t&&T(t)},U=()=>{if(!s.value)return;const t=document.createElement("a");t.download="image.png",t.href=s.value,t.click()},I=()=>{d.value="",v.value="",s.value="",_.value="",B.value=0,k.value=""},M=t=>{if(t===0)return"0 B";const e=1024,g=["B","KB","MB"],i=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,i)).toFixed(2))+" "+g[i]};return(t,e)=>{const g=n("el-radio-button"),i=n("el-radio-group"),w=n("el-button"),N=n("Upload"),F=n("el-icon"),S=n("el-upload"),x=n("el-card"),V=n("el-input");return r(),c("div",E,[e[13]||(e[13]=o("div",{class:"mb-6"},[o("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"图片 Base64 转换"),o("p",{class:"text-gray-500"},"图片与 Base64 编码互相转换")],-1)),o("div",P,[l(i,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=m=>f.value=m)},{default:a(()=>[l(g,{value:"toBase64"},{default:a(()=>[...e[3]||(e[3]=[u("图片 → Base64",-1)])]),_:1}),l(g,{value:"toImage"},{default:a(()=>[...e[4]||(e[4]=[u("Base64 → 图片",-1)])]),_:1})]),_:1},8,["modelValue"]),l(w,{onClick:z},{default:a(()=>[...e[5]||(e[5]=[u("复制",-1)])]),_:1}),l(w,{onClick:I},{default:a(()=>[...e[6]||(e[6]=[u("清空",-1)])]),_:1})]),f.value==="toBase64"?(r(),c("div",R,[l(x,null,{header:a(()=>[...e[7]||(e[7]=[u("选择图片",-1)])]),default:a(()=>[l(S,{drag:"","auto-upload":!1,"show-file-list":!1,accept:"image/*","on-change":m=>C(m.raw)},{default:a(()=>[l(F,{size:"48",class:"text-gray-400"},{default:a(()=>[l(N)]),_:1}),e[8]||(e[8]=o("div",{class:"text-gray-500 mt-2"},"拖拽图片到此处或点击选择",-1))]),_:1},8,["on-change"]),_.value?(r(),c("div",A,[o("p",null,"文件名: "+y(_.value),1),o("p",null,"大小: "+y(M(B.value)),1),o("p",null,"类型: "+y(k.value),1)])):b("",!0)]),_:1}),l(x,null,{header:a(()=>[...e[9]||(e[9]=[u("Base64 编码",-1)])]),default:a(()=>[l(V,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=m=>d.value=m),type:"textarea",rows:12,readonly:"",placeholder:"Base64 编码将显示在这里...",class:"font-mono text-xs"},null,8,["modelValue"]),d.value?(r(),c("div",K," 长度: "+y(d.value.length)+" 字符 ",1)):b("",!0)]),_:1})])):(r(),c("div",L,[l(x,null,{header:a(()=>[...e[10]||(e[10]=[u("Base64 编码",-1)])]),default:a(()=>[l(V,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=m=>v.value=m),type:"textarea",rows:12,placeholder:"请输入 Base64 编码...",class:"font-mono text-xs",onInput:h},null,8,["modelValue"])]),_:1}),l(x,null,{header:a(()=>[o("div",O,[e[12]||(e[12]=o("span",null,"图片预览",-1)),s.value?(r(),D(w,{key:0,size:"small",onClick:U},{default:a(()=>[...e[11]||(e[11]=[u("下载",-1)])]),_:1})):b("",!0)])]),default:a(()=>[o("div",W,[s.value?(r(),c("img",{key:0,src:s.value,alt:"Preview",class:"max-w-full max-h-[300px]"},null,8,$)):(r(),c("span",q,"图片预览"))])]),_:1})]))])}}});export{Q as default};
